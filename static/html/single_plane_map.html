<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="../three/three.min.js"></script>
  <script src="../three/OrbitControls.js"></script>
</head>
<body>
<script>
  function World(canvas) {
    this.container = canvas || document.body;
    this.createScene();
    this.createTexture();
    this.createOrbit();
    this.listener()
    this.update();
  }

  World.prototype.createScene = function () {
    this.width = window.innerWidth;
    this.height = window.innerHeight;
    this.camera = new THREE.PerspectiveCamera(45, this.width/this.height, 0.1, 10000);
    this.camera.position.z = 400;

    this.scene = new THREE.Scene();
    // this.scene.background = new THREE.Color('#ffffff')

    this.renderer = new THREE.WebGLRenderer({
      alpha: true,
      antialias: true
    });
    // this.renderer.setPixelRatio(window.devicePixelRatio);
    this.renderer.setSize(window.innerWidth, window.innerHeight);
    this.container.appendChild(this.renderer.domElement);
  };

  World.prototype.createTexture = function () {
    var texture = new THREE.TextureLoader().load('chamahuajie_wudi.png');
    var geometry = new THREE.PlaneBufferGeometry(this.renderer.domElement.width / 1.8, 1528/3658 * this.renderer.domElement.width / 1.8);
    var material = new THREE.MeshBasicMaterial({
      map: texture,
      transparent: true,
      depthTest: false
    });
    this.mesh = new THREE.Mesh(geometry, material);
    this.mesh.position.set(-10, 15, 0);
    this.mesh.scale.set(1, 1, 1)
    this.scene.add(this.mesh)
  }

  World.prototype.createOrbit = function() {
    this.controls = new THREE.OrbitControls(this.camera);
    this.controls.dampingFactor = 0.25;
    this.controls.enableZoom = true;
    this.controls.enableRotate = false;
    this.controls.screenSpacePanning = true;
  }

  World.prototype.update = function() {
    var _this = this;
    requestAnimationFrame(function () {
      _this.update()
    });
    this.renderer.render(this.scene, this.camera);
  };

  World.prototype.listener = function() {
    window.addEventListener('resize', util.resizing, false);
  }

  function Util () {}

  Util.prototype.resizing = function () {
    this.width = window.innerWidth;
    this.height = window.innerHeight;
    world.camera.aspect = this.width / this.height;
    world.camera.updateProjectionMatrix();
    world.renderer.setSize(this.width, this.height)
  };

  var util = new Util();
  var world = new World();

</script>
</body>
</html>
