<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>中文汉字</title>
  <script src="/three/three.min.js"></script>
  <style type="text/css">
    * {
      padding: 0px;
      margin: 0px
    }

  </style>
</head>

<body>
  <div id="WebGL-output"></div>
  <script type="text/javascript">
    var renderer, scene, camera, controls;

    function initRenderer() {
      renderer = new THREE.WebGLRenderer({
        antialias: true,
        alpha: true
      })
      renderer.setSize(window.innerWidth, window.innerHeight)
      renderer.setClearColor('#ffffff', 1.0)
      scene = new THREE.Scene();

      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 10000)
      camera.position.set(0, 0, 280)
      camera.lookAt(0, 0, 0)
      scene.add(camera)

      var light = new THREE.PointLight('#ffffff', 0.8)
      camera.add(light)

      document.getElementById("WebGL-output").appendChild(renderer.domElement)

    }

    function initScene() {
      scene = new THREE.Scene();
    }

    function initCamera() {
      camera = new THREE.PerspectiveCamera(30, window.innerWidth / window.innerHeight, 1, 10000);
    }

    function initLight() {
    }

    function initText() {
      var loader = new THREE.FontLoader();
      loader.load('/three/FZLanTingHei_Regular.json', function (response) {
        var font = response;

        var textGeometry = new THREE.TextGeometry("中文字", {
          font: font,
          size: 2,
          height: 1
        })

        text = new THREE.Mesh(textGeometry, new THREE.MultiMaterial([
          new THREE.MeshBasicMaterial({
            color: 0x000000,
            shading: THREE.FlatShading
          })
        ]))

        textGeometry.computeBoundingBox();

        var centerOffset = -0.5 * (textGeometry.boundingBox.max.x - textGeometry.boundingBox.min.x);
        text.position.x = centerOffset;
        text.position.y = 0;

        scene.add(text);
        var plane = new THREE.Mesh(
          new THREE.PlaneBufferGeometry(10000, 10000),
          new THREE.MeshBasicMaterial({
            color: 0x000000,
            opacity: 0.5,
            transparent: true
          })
        );
        plane.rotation.x = -Math.PI / 2;
        plane.position.y = 0;
        scene.add(plane);
      })

    }

    function render() {
      renderer.render(scene, camera);
      requestAnimationFrame(render);
    }

    function start() {
      initRenderer();
      // initScene();
      // initCamera();
      initLight();
      initText();
      render();
    }

    start();

  </script>

</body>
